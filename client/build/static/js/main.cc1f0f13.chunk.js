(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{132:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s.n(a),c=s(49),r=s.n(c),o=(s(96),s(31)),i=s(20),l=s(16),d=s.n(l),m=s(10),x=s.n(m),u=s(19),b=s(32),j=s(25),p=s(14),h=s(134),g=s(136),f=s(137),O=s(40),y=s(1),N="Tom Cook",v="tom@example.com",w="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80";function k(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function C(e){var t=e.children,s=Object(a.useState)(""),n=Object(p.a)(s,2),c=n[0],r=n[1],o=[{name:"Agent-Donor",href:"/",current:"/"===c},{name:"Agent-Transaction",href:"/agent/transaction",current:"/agent/transaction"===c},{name:"Admin-Agent",href:"/admin/agent",current:"/admin/agent"===c},{name:"Admin-Transaction",href:"/admin/transaction",current:"/admin/transaction"===c}],i=[{name:"Your Profile",href:"#"},{name:"Settings",href:"#"},{name:"Sign out",href:"#"}];return Object(a.useEffect)((function(){r(window.location.pathname)}),[window.location]),Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"min-h-full",children:[Object(y.jsx)(h.a,{as:"nav",className:"bg-gray-800",children:function(e){var t=e.open;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(y.jsxs)("div",{className:"flex items-center justify-between h-16",children:[Object(y.jsxs)("div",{className:"flex items-center",children:[Object(y.jsx)("div",{className:"flex-shrink-0",children:Object(y.jsx)("span",{className:"text-2xl text-white font-semibold",children:"PMPPMM"})}),Object(y.jsx)("div",{className:"hidden md:block",children:Object(y.jsx)("div",{className:"ml-10 flex items-baseline space-x-4",children:o.map((function(e){return Object(y.jsx)("a",{href:e.href,className:k(e.current?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","px-3 py-2 rounded-md text-sm font-medium"),"aria-current":e.current?"page":void 0,children:e.name},e.name)}))})})]}),Object(y.jsx)("div",{className:"hidden md:block",children:Object(y.jsx)("div",{className:"ml-4 flex items-center md:ml-6",children:Object(y.jsxs)(g.a,{as:"div",className:"ml-3 relative",children:[Object(y.jsx)("div",{children:Object(y.jsxs)(g.a.Button,{className:"max-w-xs bg-gray-800 rounded-full flex items-center text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",children:[Object(y.jsx)("span",{className:"sr-only",children:"Open user menu"}),Object(y.jsx)("img",{className:"h-8 w-8 rounded-full",src:w,alt:""})]})}),Object(y.jsx)(f.a,{as:a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(y.jsx)(g.a.Items,{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:i.map((function(e){return Object(y.jsx)(g.a.Item,{children:function(t){var s=t.active;return Object(y.jsx)("a",{href:e.href,className:k(s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"),children:e.name})}},e.name)}))})})]})})}),Object(y.jsx)("div",{className:"-mr-2 flex md:hidden",children:Object(y.jsxs)(h.a.Button,{className:"bg-gray-800 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",children:[Object(y.jsx)("span",{className:"sr-only",children:"Open main menu"}),t?Object(y.jsx)(O.c,{className:"block h-6 w-6","aria-hidden":"true"}):Object(y.jsx)(O.b,{className:"block h-6 w-6","aria-hidden":"true"})]})})]})}),Object(y.jsxs)(h.a.Panel,{className:"md:hidden",children:[Object(y.jsx)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:o.map((function(e){return Object(y.jsx)(h.a.Button,{as:"a",href:e.href,className:k(e.current?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","block px-3 py-2 rounded-md text-base font-medium"),"aria-current":e.current?"page":void 0,children:e.name},e.name)}))}),Object(y.jsxs)("div",{className:"pt-4 pb-3 border-t border-gray-700",children:[Object(y.jsxs)("div",{className:"flex items-center px-5",children:[Object(y.jsx)("div",{className:"flex-shrink-0",children:Object(y.jsx)("img",{className:"h-10 w-10 rounded-full",src:w,alt:""})}),Object(y.jsxs)("div",{className:"ml-3",children:[Object(y.jsx)("div",{className:"text-base font-medium leading-none text-white",children:N}),Object(y.jsx)("div",{className:"text-sm font-medium leading-none text-gray-400",children:v})]}),Object(y.jsxs)("button",{type:"button",className:"ml-auto bg-gray-800 flex-shrink-0 p-1 rounded-full text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",children:[Object(y.jsx)("span",{className:"sr-only",children:"View notifications"}),Object(y.jsx)(O.a,{className:"h-6 w-6","aria-hidden":"true"})]})]}),Object(y.jsx)("div",{className:"mt-3 px-2 space-y-1",children:i.map((function(e){return Object(y.jsx)(h.a.Button,{as:"a",href:e.href,className:"block px-3 py-2 rounded-md text-base font-medium text-gray-400 hover:text-white hover:bg-gray-700",children:e.name},e.name)}))})]})]})]})}}),Object(y.jsx)("header",{className:"bg-white shadow",children:Object(y.jsx)("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:Object(y.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"})})}),Object(y.jsx)("main",{children:Object(y.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:t})})]})})}var T=function(){var e=Object(i.f)(),t=Object(a.useState)(!1),s=Object(p.a)(t,2),n=s[0],c=s[1],r=Object(a.useState)(""),o=Object(p.a)(r,2),l=o[0],m=o[1],h=Object(a.useState)({isCompany:!1,name:"",registrationNo:"",icNumber:"",contactNumber:"",contactPerson:"",email:"",address:""}),g=Object(p.a)(h,2),f=g[0],O=g[1];Object(a.useEffect)((function(){}),[f]);var N=function(e){O(Object(j.a)(Object(j.a)({},f),{},Object(b.a)({},e.target.name,e.target.value)))},v=function(){var t=Object(u.a)(x.a.mark((function t(s){var a,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.preventDefault(),!n){t.next=13;break}if(0!==f.name.length&&0!==f.contactNumber.length&&0!==f.contactPerson&&0!==f.address.length){t.next=8;break}return console.log("error"),m("Please fill the required information"),t.abrupt("return");case 8:if(null!=f.registrationNo.match("^[0-9]{12}$")){t.next=11;break}return m("Enter a valid company registration number"),t.abrupt("return");case 11:t.next=21;break;case 13:if(0!==f.name.length&&0!==f.contactNumber.length&&0!==f.address.length){t.next=18;break}return m("Please fill the required information"),t.abrupt("return");case 18:if(null!=f.icNumber.match("^[0-9]{12}$")){t.next=21;break}return m("Enter a valid IC Number"),t.abrupt("return");case 21:if(null==f.email.match("@gmail.com$")&&null==f.email.match("@yahoo.com$")){t.next=24;break}return m("Personal emails (Gmail and Yahoo) are not allowed. Please use company email"),t.abrupt("return");case 24:return t.prev=24,t.next=27,d.a.post("/donor/create",{donorInfo:f,agentId:1});case 27:a=t.sent,(c=a.data).success&&e.push("/"),console.log(c),t.next=36;break;case 33:t.prev=33,t.t0=t.catch(24),m(t.t0.response.data);case 36:case"end":return t.stop()}}),t,null,[[24,33]])})));return function(e){return t.apply(this,arguments)}}();return Object(y.jsx)(C,{children:Object(y.jsxs)("div",{className:"mt-10 sm:mt-0",children:[Object(y.jsx)("div",{className:"col-span-2 sm:col-span-2 mb-2",children:Object(y.jsxs)("label",{className:"inline-flex items-center",children:[Object(y.jsx)("input",{name:"isCompany",onChange:function(){O(Object(j.a)(Object(j.a)({},f),{},{isCompany:!n})),c(!n)},defaultChecked:n,className:"text-indigo-500 w-6 h-6 mr-2 focus:ring-indigo-400 focus:ring-opacity-25 border border-gray-300 rounded",type:"checkbox"}),"Tick Here If Donor Is A Company"]})}),Object(y.jsx)("div",{className:"mt-5 md:mt-0 md:col-span-2",children:Object(y.jsx)("form",{onSubmit:v,action:"#",method:"POST",children:Object(y.jsxs)("div",{className:"shadow overflow-hidden sm:rounded-md",children:[Object(y.jsxs)("div",{className:"px-4 py-5 bg-white sm:p-6",children:[""!==l&&Object(y.jsx)("div",{className:"px-4 py-2 bg-red-200 rounded-md text-sm font-semibold",children:l}),n?Object(y.jsx)("div",{className:"px-4 py-5 bg-white sm:p-6",children:Object(y.jsxs)("div",{className:"grid grid-cols-6 gap-6",children:[Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-6",children:[Object(y.jsx)("label",{htmlFor:"company-name",className:"block text-sm font-medium text-gray-700",children:"Company Name"}),Object(y.jsx)("input",{type:"text",name:"name",id:"company-name",onChange:N,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(y.jsx)("label",{htmlFor:"registration-no",className:"block text-sm font-medium text-gray-700",children:"Registration No"}),Object(y.jsx)("input",{type:"text",name:"registrationNo",id:"registration-no",onChange:N,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(y.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),Object(y.jsx)("input",{type:"text",name:"email",id:"email",onChange:N,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(y.jsx)("label",{htmlFor:"contact-person",className:"block text-sm font-medium text-gray-700",children:"Contact Person"}),Object(y.jsx)("input",{type:"text",name:"contactPerson",id:"contact-person",onChange:N,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(y.jsx)("label",{htmlFor:"contact-number",className:"block text-sm font-medium text-gray-700",children:"Contact Number"}),Object(y.jsx)("input",{type:"number",name:"contactNumber",id:"contact-number",onChange:N,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),Object(y.jsxs)("div",{className:"col-span-6",children:[Object(y.jsx)("label",{htmlFor:"company-address",className:"block text-sm font-medium text-gray-700",children:"Company Address"}),Object(y.jsx)("input",{type:"text",name:"address",id:"company-address",onChange:N,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]})]})}):Object(y.jsx)("div",{className:"px-4 py-5 bg-white sm:p-6",children:Object(y.jsxs)("div",{className:"grid grid-cols-6 gap-6",children:[Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-6",children:[Object(y.jsx)("label",{htmlFor:"person-name",className:"block text-sm font-medium text-gray-700",children:"Person Name"}),Object(y.jsx)("input",{type:"text",name:"name",id:"person-name",onChange:N,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(y.jsx)("label",{htmlFor:"ic-number",className:"block text-sm font-medium text-gray-700",children:"IC No"}),Object(y.jsx)("input",{type:"text",name:"icNumber",id:"ic-number",onChange:N,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(y.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),Object(y.jsx)("input",{type:"text",name:"email",id:"email",onChange:N,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(y.jsx)("label",{htmlFor:"contact-number",className:"block text-sm font-medium text-gray-700",children:"Contact Number"}),Object(y.jsx)("input",{type:"number",name:"contactNumber",id:"contact-number",onChange:N,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),Object(y.jsxs)("div",{className:"col-span-6",children:[Object(y.jsx)("label",{htmlFor:"home-address",className:"block text-sm font-medium text-gray-700",children:"Home Address"}),Object(y.jsx)("input",{type:"text",name:"address",id:"home-address",onChange:N,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]})]})})]}),Object(y.jsx)("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6",children:Object(y.jsx)("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Add Donor"})})]})})})]})})};function E(e){var t=e.donorsList;return Object(y.jsx)("div",{className:"flex flex-col",children:Object(y.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(y.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(y.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(y.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(y.jsx)("thead",{className:"bg-gray-50",children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"No"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact Number"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expiry Date"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),Object(y.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((function(e,t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(y.jsx)("div",{className:"text-sm text-gray-900",children:t+1})}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(y.jsx)("div",{className:"text-sm text-gray-900",children:e.name})}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(y.jsx)("div",{className:"text-sm text-gray-900",children:e.contactNumber})}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(y.jsx)("div",{className:"text-sm text-gray-900",children:e.address})}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(y.jsx)("div",{className:"text-sm text-gray-900",children:e.expiryDate})}),Object(y.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:["APPROVED"===e.status&&Object(y.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:e.status})," ","EXPIRED"===e.status&&Object(y.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:e.status}),"APPROVED"!==e.status&&"EXPIRED"!==e.status&&Object(y.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:e.status})]}),"APPROVED"===e.status&&Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:Object(y.jsx)(o.b,{to:"/agent/add-transaction/".concat(e.id),children:Object(y.jsx)("span",{className:"text-indigo-600 hover:text-indigo-900",children:"Add Transaction"})})})]},e.id)}))})]})})})})})}var F=function(){var e=Object(a.useState)([]),t=Object(p.a)(e,2),s=t[0],n=t[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(x.a.mark((function e(){var t,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/donor/get",{agentId:1});case 3:t=e.sent,s=t.data,n(s.allDonors),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(y.jsx)("div",{children:Object(y.jsxs)(C,{children:[Object(y.jsx)("div",{className:"px-4 py-3 text-right sm:px-6",children:Object(y.jsx)(o.b,{to:"/agent/add-donor",children:Object(y.jsx)("button",{type:"button",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Add Donor"})})}),Object(y.jsx)(E,{donorsList:s})]})})};function S(e){var t=e.transactionList;return Object(y.jsx)("div",{className:"flex flex-col",children:Object(y.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(y.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(y.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(y.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(y.jsx)("thead",{className:"bg-gray-50",children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"No"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Type"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cheque Date"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cheque No"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bank Name"})]})}),Object(y.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((function(e,t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(y.jsx)("div",{className:"text-sm text-gray-900",children:t+1})}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(y.jsx)("div",{className:"text-sm text-gray-900",children:e.donor.name})}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:"COMPLETED"===e.status?Object(y.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:e.status}):Object(y.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:e.status})}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(y.jsx)("div",{className:"text-sm text-gray-900",children:e.amount})}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(y.jsx)("div",{className:"text-sm text-gray-900",children:e.paymentType})}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(y.jsx)("div",{className:"text-sm text-gray-900",children:e.chequeDate})}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(y.jsx)("div",{className:"text-sm text-gray-900",children:e.chequeNo})}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(y.jsx)("div",{className:"text-sm text-gray-900",children:e.bankName})})]},e.id)}))})]})})})})})}var P=function(){var e=Object(a.useState)([]),t=Object(p.a)(e,2),s=t[0],n=t[1],c=Object(a.useState)(null),r=Object(p.a)(c,2),o=(r[0],r[1],Object(a.useState)(null)),i=Object(p.a)(o,2);return i[0],i[1],Object(a.useEffect)((function(){(function(){var e=Object(u.a)(x.a.mark((function e(){var t,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/transaction/get",{agentId:1});case 3:t=e.sent,s=t.data,n(s.allTransactions),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(y.jsxs)(C,{children:[Object(y.jsx)("div",{className:"px-4 py-3 text-right sm:px-6"}),Object(y.jsx)(S,{transactionList:s})]})},D=s(91),A=(s(122),s(22));function q(e){var t=e.medicalList,s=e.handleChange,a=e.grandTotal;return Object(y.jsx)("div",{className:"flex flex-col",children:Object(y.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(y.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(y.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(y.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(y.jsx)("thead",{className:"bg-gray-50",children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Cost"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requested"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Cost"})]})}),Object(y.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[t.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.name}),Object(y.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["RM ",e.unitCost]}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Object(y.jsx)("input",{type:"number",name:e.shortName,id:e.shortName,onChange:s,min:"0",value:e.requested,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})}),Object(y.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["RM ",e.totalCost]})]},e.id)})),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:" "}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:" "}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-md font-bold text-gray-900",children:"Total Cost"}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-md font-bold text-gray-900",children:a})]})]})]})})})})})}var I=function(e){var t=e.donor,s=e.grandTotal,n=e.handleFormSubmit,c=Object(a.useState)({}),r=Object(p.a)(c,2),o=r[0],i=r[1],l=function(e){i(Object(j.a)(Object(j.a)({},o),{},Object(b.a)({},e.target.name,e.target.value)))};return Object(y.jsx)("div",{className:"mt-10 sm:mt-0",children:Object(y.jsx)("div",{className:"mt-5 md:mt-0 md:col-span-2",children:Object(y.jsx)("form",{onSubmit:n,action:"#",method:"POST",children:Object(y.jsxs)("div",{className:"shadow overflow-hidden sm:rounded-md",children:[t.isCompany?Object(y.jsx)("div",{className:"px-4 py-5 bg-white sm:p-6",children:Object(y.jsxs)("div",{className:"px-4 py-5 bg-white sm:p-6",children:[Object(y.jsxs)("div",{className:"flex mb-6",children:[Object(y.jsx)("span",{className:"font-bold pr-2",children:"Account Type: "}),"Company"]}),Object(y.jsxs)("div",{className:"grid grid-cols-6 gap-6",children:[Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(y.jsx)("label",{htmlFor:"company-name",className:"block text-sm font-medium text-gray-700",children:"Company Name"}),Object(y.jsx)("input",{type:"text",name:"name",id:"company-name",autoComplete:"company-name",onChange:l,disabled:!0,value:t.name,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(y.jsx)("label",{htmlFor:"registration-no",className:"block text-sm font-medium text-gray-700",children:"Registration No"}),Object(y.jsx)("input",{type:"text",name:"registrationNo",id:"registration-no",autoComplete:"registration-no",onChange:l,disabled:!0,value:t.registrationNo,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(y.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),Object(y.jsx)("input",{type:"text",name:"email",id:"email",autoComplete:"email",onChange:l,disabled:!0,value:t.email,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(y.jsx)("label",{htmlFor:"contact-person",className:"block text-sm font-medium text-gray-700",children:"Contact Person"}),Object(y.jsx)("input",{type:"text",name:"contactPerson",id:"contact-person",autoComplete:"contact-person",onChange:l,disabled:!0,value:t.contactPerson,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(y.jsx)("label",{htmlFor:"contact-number",className:"block text-sm font-medium text-gray-700",children:"Contact Number"}),Object(y.jsx)("input",{type:"number",name:"contactNumber",id:"contact-number",autoComplete:"contact-number",onChange:l,disabled:!0,value:t.contactNumber,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(y.jsx)("label",{htmlFor:"company-address",className:"block text-sm font-medium text-gray-700",children:"Company Address"}),Object(y.jsx)("input",{type:"text",name:"address",id:"company-address",autoComplete:"company-address",onChange:l,disabled:!0,value:t.address,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(y.jsx)("label",{htmlFor:"total-contribution",className:"block text-sm font-medium text-gray-700",children:"Total Contribution"}),Object(y.jsx)("input",{type:"text",name:"totalContribution",id:"total-contribution",autoComplete:"total-contribution",onChange:l,disabled:!0,value:s,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]})]})]})}):Object(y.jsx)("div",{className:"px-4 py-5 bg-white sm:p-6",children:Object(y.jsxs)("div",{className:"px-4 py-5 bg-white sm:p-6",children:[Object(y.jsxs)("div",{className:"flex mb-6",children:[Object(y.jsx)("span",{className:"font-bold pr-2",children:"Account Type: "}),"Personal"]}),Object(y.jsxs)("div",{className:"grid grid-cols-6 gap-6",children:[Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(y.jsx)("label",{htmlFor:"company-name",className:"block text-sm font-medium text-gray-700",children:"Name"}),Object(y.jsx)("input",{type:"text",name:"name",id:"company-name",autoComplete:"company-name",onChange:l,disabled:!0,value:t.name,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(y.jsx)("label",{htmlFor:"ic-number",className:"block text-sm font-medium text-gray-700",children:"IC Number"}),Object(y.jsx)("input",{type:"text",name:"icNumber",id:"ic-number",autoComplete:"ic-number",onChange:l,disabled:!0,value:t.icNumber,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(y.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),Object(y.jsx)("input",{type:"text",name:"email",id:"email",autoComplete:"email",onChange:l,disabled:!0,value:t.email,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(y.jsx)("label",{htmlFor:"contact-number",className:"block text-sm font-medium text-gray-700",children:"Contact Number"}),Object(y.jsx)("input",{type:"number",name:"contactNumber",id:"contact-number",autoComplete:"contact-number",onChange:l,disabled:!0,value:t.contactNumber,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(y.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),Object(y.jsx)("input",{type:"text",name:"address",id:"address",autoComplete:"address",onChange:l,disabled:!0,value:t.address,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(y.jsx)("label",{htmlFor:"total-contribution",className:"block text-sm font-medium text-gray-700",children:"Total Contribution"}),Object(y.jsx)("input",{type:"text",name:"totalContribution",id:"total-contribution",autoComplete:"total-contribution",onChange:l,disabled:!0,value:s,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]})]})]})}),Object(y.jsx)("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6",children:Object(y.jsx)("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Submit"})})]})})})})},M=[{id:1,shortName:"standard-wheelchair",name:"Standard Wheelchair",unitCost:500,requested:0,totalCost:0,y:643},{id:2,shortName:"lightweight-wheelchair-multi-function",name:"Lightweight Wheelchair Multi Function",unitCost:1500,requested:0,totalCost:0,y:620},{id:3,shortName:"walking-frame",name:"Walking Frame",unitCost:210,requested:0,totalCost:0,y:600},{id:4,shortName:"Adult Diaper",name:"Adult Diaper",unitCost:23,requested:0,totalCost:0,y:580},{id:5,shortName:"nebulizer",name:"Nebulizer",unitCost:750,requested:0,totalCost:0,y:560},{id:6,shortName:"artificial-limb",name:"Artificial Limb",unitCost:8e3,requested:0,totalCost:0,y:540},{id:7,shortName:"ripple-mattress",name:"Ripple Mattress",unitCost:750,requested:0,totalCost:0,y:520},{id:8,shortName:"oxygen-concentrator",name:"Oxygen Concentrator",unitCost:6e3,requested:0,totalCost:0,y:495},{id:9,shortName:"suction-pump-machine",name:"Suction Pump Machine",unitCost:900,requested:0,totalCost:0,y:470},{id:10,shortName:"hearing-aid",name:"Hearing Aid",unitCost:2860,requested:0,totalCost:0,y:446},{id:11,shortName:"blood-pressure-set",name:"Blood Pressure Set",unitCost:400,requested:0,totalCost:0,y:420},{id:12,shortName:"glucometer-set",name:"Glucometer Set",unitCost:300,requested:0,totalCost:0,y:395},{id:13,shortName:"cpap-machine",name:"Cpap Machine",unitCost:7e3,requested:0,totalCost:0,y:375},{id:14,shortName:"aero-chamber-child",name:"Aero Chamber (Child)",unitCost:100,requested:0,totalCost:0,y:352},{id:15,shortName:"aero-chamber-adult",name:"Aero Chamber (Adult)",unitCost:110,requested:0,totalCost:0,y:330},{id:16,shortName:"hand-sanitizer",name:"Hand Sanitizer",unitCost:35,requested:0,totalCost:0,y:305},{id:17,shortName:"hand-glove",name:"Handle Glove",unitCost:30,requested:0,totalCost:0,y:280},{id:18,shortName:"face-mask",name:"Face Mask",unitCost:70,requested:0,totalCost:0,y:258},{id:19,shortName:"infrared-forehead-thermometer",name:"Infared Forehead Thermometer",unitCost:270,requested:0,totalCost:0,y:238}];var R=function(){var e=Object(i.f)(),t=Object(a.useState)({}),s=Object(p.a)(t,2),n=s[0],c=s[1],r=Object(a.useState)(0),o=Object(p.a)(r,2),l=o[0],m=o[1],b=Object(a.useState)(1),j=Object(p.a)(b,2),h=j[0],g=j[1],f=Object(a.useState)(M),O=Object(p.a)(f,2),N=O[0],v=O[1],w=Object(i.g)().donorId;Object(a.useEffect)((function(){(function(){var t=Object(u.a)(x.a.mark((function t(){var s,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.post("/donor/validate",{donorId:w,agentId:1});case 3:s=t.sent,a=s.data.donor,c(a[0]),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.push("/");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[]);var k=function(){var t=Object(u.a)(x.a.mark((function t(s){var a,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),t.prev=1,console.log(n),t.next=5,d.a.post("/transaction/create",{donorInfo:n,grandTotal:l});case 5:a=t.sent,(c=a.data).success&&e.push("/agent/transaction"),console.log(c),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(x.a.mark((function e(){var t,s,a,n,c,r,o,i,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("generatePDF"),"https://edemy-bucket-10.s3.ap-southeast-1.amazonaws.com/MEDICAL+LIST+new.pdf",e.next=4,fetch("https://edemy-bucket-10.s3.ap-southeast-1.amazonaws.com/MEDICAL+LIST+new.pdf").then((function(e){return e.arrayBuffer()}));case 4:return t=e.sent,e.next=7,A.PDFDocument.load(t);case 7:return s=e.sent,e.next=10,s.embedFont(A.StandardFonts.Helvetica);case 10:for(a=e.sent,n=s.getPages(),c=n[0],r=c.getSize(),r.width,r.height,o=0,i=0;i<N.length;i++)0!==N[i].requested&&(c.drawText(N[i].requested.toString(),{x:410,y:N[i].y,size:11,font:a,color:Object(A.rgb)(.1,.1,.1)}),c.drawText(N[i].totalCost.toString(),{x:490,y:N[i].y,size:11,font:a,color:Object(A.rgb)(.1,.1,.1)}),o+=N[i].requested*N[i].unitCost);return c.drawText(o.toString(),{x:490,y:218,size:11,font:a,color:Object(A.rgb)(.1,.1,.1)}),e.next=19,s.saveAsBase64({dataUri:!0});case 19:l=e.sent,d.a.post("/transaction/upload-form",{file:l}).then((function(e){console.log("completed"),console.log(e)}));case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(x.a.mark((function e(){var t,s,a,c,r,o,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://edemy-bucket-10.s3.ap-southeast-1.amazonaws.com/EXEMPTION+FORM+NEW.pdf",e.next=3,fetch("https://edemy-bucket-10.s3.ap-southeast-1.amazonaws.com/EXEMPTION+FORM+NEW.pdf").then((function(e){return e.arrayBuffer()}));case 3:return t=e.sent,e.next=6,A.PDFDocument.load(t);case 6:return s=e.sent,e.next=9,s.embedFont(A.StandardFonts.Helvetica);case 9:return a=e.sent,c=s.getPages(),r=c[0],o=r.getSize(),o.width,o.height,n.isCompany?(r.drawText("Company",{x:190,y:702,size:11,font:a,color:Object(A.rgb)(.1,.1,.1)}),r.drawText(n.registrationNo.toString(),{x:223,y:657,size:11,font:a,color:Object(A.rgb)(.1,.1,.1)}),r.drawText("X",{x:55,y:627,size:11,font:a,color:Object(A.rgb)(.1,.1,.1)}),r.drawText(n.name,{x:260,y:630,size:11,font:a,color:Object(A.rgb)(.1,.1,.1)}),r.drawText(n.address,{x:98,y:574,size:11,font:a,color:Object(A.rgb)(.1,.1,.1)}),r.drawText(l.toString(),{x:160,y:555,size:11,font:a,color:Object(A.rgb)(.1,.1,.1)}),r.drawText(n.contactNumber.toString(),{x:110,y:535,size:11,font:a,color:Object(A.rgb)(.1,.1,.1)}),r.drawText(n.email,{x:110,y:515,size:11,font:a,color:Object(A.rgb)(.1,.1,.1)})):(r.drawText("Personal",{x:190,y:702,size:11,font:a,color:Object(A.rgb)(.1,.1,.1)}),r.drawText(n.name,{x:120,y:482,size:11,font:a,color:Object(A.rgb)(.1,.1,.1)}),r.drawText(n.address,{x:120,y:460,size:11,font:a,color:Object(A.rgb)(.1,.1,.1)}),r.drawText(n.icNumber,{x:90,y:412,size:11,font:a,color:Object(A.rgb)(.1,.1,.1)}),r.drawText(n.contactNumber.toString(),{x:390,y:412,size:11,font:a,color:Object(A.rgb)(.1,.1,.1)})),e.next=16,s.saveAsBase64({dataUri:!0});case 16:i=e.sent,d.a.post("/transaction/upload-form",{file:i}).then((function(e){console.log("completed"),console.log(e)}));case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)(C,{children:[h>1&&Object(y.jsx)("button",{type:"button",onClick:function(){return g(h-1)},className:"py-2 px-4 m-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Back"}),h<=1&&Object(y.jsx)("button",{type:"button",onClick:function(){return g(h+1)},className:"py-2 px-4 m-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Next Step"}),1===h&&Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(q,{handleChange:function(e){for(var t=0,s=0;s<N.length;s++)N[s].shortName===e.target.name&&(N[s].requested=parseInt(e.target.value),N[s].totalCost=parseInt(N[s].requested*N[s].unitCost),v(Object(D.a)(N))),t+=N[s].requested*N[s].unitCost;m(t)},medicalList:N,grandTotal:l})}),2===h&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("button",{type:"button",onClick:T,className:"py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Generate PDF"}),Object(y.jsx)("button",{type:"button",onClick:E,className:"py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Generate PDF 2"}),Object(y.jsx)(I,{donor:n,grandTotal:l,handleFormSubmit:k})]})]})};var z=function(){Object(i.f)();var e=Object(a.useState)({email:"",password:""}),t=Object(p.a)(e,2),s=t[0],n=t[1],c=function(e){n(Object(j.a)(Object(j.a)({},s),{},Object(b.a)({},e.target.name,e.target.value)))},r=function(){var e=Object(u.a)(x.a.mark((function e(t){var s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,d.a.post("/auth/login",{});case 4:s=e.sent,console.log(s),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)("div",{className:"flex h-screen",children:Object(y.jsx)("div",{className:"m-auto",children:Object(y.jsx)("form",{onSubmit:r,action:"#",method:"POST",children:Object(y.jsxs)("div",{className:"shadow overflow-hidden sm:rounded-md",children:[Object(y.jsx)("div",{className:"px-4 py-5 bg-white sm:p-6",children:Object(y.jsxs)("div",{className:"grid grid-cols-6 gap-6",children:[Object(y.jsx)("span",{className:"text-2xl font-bold",children:"Login"}),Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-6",children:[Object(y.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),Object(y.jsx)("input",{type:"text",name:"email",id:"email",autoComplete:"email",value:s.email,onChange:c,className:"py-2 px-3 mt-1 focus:ring-gray-500 focus:border-gray-500 block w-full shadow-sm sm:text-sm border border-gray-300 rounded-md"})]}),Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-6",children:[Object(y.jsx)("label",{htmlFor:"last-name",className:"block text-sm font-medium text-gray-700",children:"Password"}),Object(y.jsx)("input",{type:"password",name:"password",id:"password",autoComplete:"password",value:s.password,onChange:c,className:"py-2 px-3 mt-1 focus:ring-gray-500 focus:border-gray-500 block w-full shadow-sm sm:text-sm border border-gray-300 rounded-md"})]})]})}),Object(y.jsx)("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6",children:Object(y.jsx)("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Login"})})]})})})})},B="Tom Cook",L="tom@example.com",H="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80";function J(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function G(e){var t=e.children,s=Object(a.useState)(""),n=Object(p.a)(s,2),c=n[0],r=n[1],o=[{name:"Agent-Donor",href:"/",current:"/"===c},{name:"Agent-Transaction",href:"/agent/transaction",current:"/agent/transaction"===c},{name:"Admin-Agent",href:"/admin/agent",current:"/admin/agent"===c},{name:"Admin-Transaction",href:"/admin/transaction",current:"/admin/transaction"===c}],i=[{name:"Your Profile",href:"#"},{name:"Settings",href:"#"},{name:"Sign out",href:"#"}];return Object(a.useEffect)((function(){r(window.location.pathname)}),[window.location]),Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"min-h-full",children:[Object(y.jsx)(h.a,{as:"nav",className:"bg-gray-800",children:function(e){var t=e.open;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(y.jsxs)("div",{className:"flex items-center justify-between h-16",children:[Object(y.jsxs)("div",{className:"flex items-center",children:[Object(y.jsx)("div",{className:"flex-shrink-0",children:Object(y.jsx)("span",{className:"text-2xl text-white font-semibold",children:"PMPPMM"})}),Object(y.jsx)("div",{className:"hidden md:block",children:Object(y.jsx)("div",{className:"ml-10 flex items-baseline space-x-4",children:o.map((function(e){return Object(y.jsx)("a",{href:e.href,className:J(e.current?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","px-3 py-2 rounded-md text-sm font-medium"),"aria-current":e.current?"page":void 0,children:e.name},e.name)}))})})]}),Object(y.jsx)("div",{className:"hidden md:block",children:Object(y.jsx)("div",{className:"ml-4 flex items-center md:ml-6",children:Object(y.jsxs)(g.a,{as:"div",className:"ml-3 relative",children:[Object(y.jsx)("div",{children:Object(y.jsxs)(g.a.Button,{className:"max-w-xs bg-gray-800 rounded-full flex items-center text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",children:[Object(y.jsx)("span",{className:"sr-only",children:"Open user menu"}),Object(y.jsx)("img",{className:"h-8 w-8 rounded-full",src:H,alt:""})]})}),Object(y.jsx)(f.a,{as:a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(y.jsx)(g.a.Items,{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:i.map((function(e){return Object(y.jsx)(g.a.Item,{children:function(t){var s=t.active;return Object(y.jsx)("a",{href:e.href,className:J(s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"),children:e.name})}},e.name)}))})})]})})}),Object(y.jsx)("div",{className:"-mr-2 flex md:hidden",children:Object(y.jsxs)(h.a.Button,{className:"bg-gray-800 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",children:[Object(y.jsx)("span",{className:"sr-only",children:"Open main menu"}),t?Object(y.jsx)(O.c,{className:"block h-6 w-6","aria-hidden":"true"}):Object(y.jsx)(O.b,{className:"block h-6 w-6","aria-hidden":"true"})]})})]})}),Object(y.jsxs)(h.a.Panel,{className:"md:hidden",children:[Object(y.jsx)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:o.map((function(e){return Object(y.jsx)(h.a.Button,{as:"a",href:e.href,className:J(e.current?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","block px-3 py-2 rounded-md text-base font-medium"),"aria-current":e.current?"page":void 0,children:e.name},e.name)}))}),Object(y.jsxs)("div",{className:"pt-4 pb-3 border-t border-gray-700",children:[Object(y.jsxs)("div",{className:"flex items-center px-5",children:[Object(y.jsx)("div",{className:"flex-shrink-0",children:Object(y.jsx)("img",{className:"h-10 w-10 rounded-full",src:H,alt:""})}),Object(y.jsxs)("div",{className:"ml-3",children:[Object(y.jsx)("div",{className:"text-base font-medium leading-none text-white",children:B}),Object(y.jsx)("div",{className:"text-sm font-medium leading-none text-gray-400",children:L})]}),Object(y.jsxs)("button",{type:"button",className:"ml-auto bg-gray-800 flex-shrink-0 p-1 rounded-full text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",children:[Object(y.jsx)("span",{className:"sr-only",children:"View notifications"}),Object(y.jsx)(O.a,{className:"h-6 w-6","aria-hidden":"true"})]})]}),Object(y.jsx)("div",{className:"mt-3 px-2 space-y-1",children:i.map((function(e){return Object(y.jsx)(h.a.Button,{as:"a",href:e.href,className:"block px-3 py-2 rounded-md text-base font-medium text-gray-400 hover:text-white hover:bg-gray-700",children:e.name},e.name)}))})]})]})]})}}),Object(y.jsx)("header",{className:"bg-white shadow",children:Object(y.jsx)("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:Object(y.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"})})}),Object(y.jsx)("main",{children:Object(y.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:t})})]})})}function V(e){var t=e.agentList;return Object(y.jsx)("div",{className:"flex flex-col",children:Object(y.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(y.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(y.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(y.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(y.jsx)("thead",{className:"bg-gray-50",children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"No"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Donor Name"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IC Number"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact Number"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Suspended"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Approved"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Edit"})]})}),Object(y.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((function(e,t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(y.jsx)("div",{className:"text-sm text-gray-900",children:t+1})}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(y.jsx)("div",{className:"text-sm text-gray-900",children:e.fullName})}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(y.jsx)("div",{className:"text-sm text-gray-900",children:e.icNumber})}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(y.jsx)("div",{className:"text-sm text-gray-900",children:e.contactNumber})}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(y.jsx)("div",{className:"text-sm text-gray-900",children:"true"===e.suspended.toString()?"YES":"NO"})}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(y.jsx)("div",{className:"text-sm text-gray-900",children:"true"===e.approved.toString()?"YES":"NO"})})]},e.id)}))})]})})})})})}var W=function(){var e=Object(a.useState)([]),t=Object(p.a)(e,2),s=t[0],n=t[1];return Object(a.useEffect)((function(){(function(){var e=Object(u.a)(x.a.mark((function e(){var t,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/agent/get");case 3:t=e.sent,s=t.data,n(s.allAgents),console.log(s.allAgents),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(y.jsx)(G,{children:Object(y.jsx)(V,{agentList:s})})};function U(e){var t=e.transactionList,s=e.openEditModal,a=e.transactionApproved,n=e.transactionRejected;return Object(y.jsx)("div",{className:"flex flex-col",children:Object(y.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(y.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(y.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(y.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(y.jsx)("thead",{className:"bg-gray-50",children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"No"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent Name"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Donor Name"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Type"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cheque Date"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cheque No"}),Object(y.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bank Name"}),Object(y.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:Object(y.jsx)("span",{className:"sr-only",children:"Edit"})})]})}),Object(y.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((function(e,t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(y.jsx)("div",{className:"text-sm text-gray-900",children:t+1})}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(y.jsx)("div",{className:"text-sm text-gray-900",children:e.agent.fullName})}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(y.jsx)("div",{className:"text-sm text-gray-900",children:e.donor.name})}),Object(y.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:["REJECTED"===e.status&&Object(y.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:e.status}),"COMPLETED"===e.status&&Object(y.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:e.status}),"REJECTED"!==e.status&&"COMPLETED"!==e.status&&Object(y.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:e.status})]}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(y.jsx)("div",{className:"text-sm text-gray-900",children:e.paymentType})}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(y.jsx)("div",{className:"text-sm text-gray-900",children:e.chequeDate})}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(y.jsx)("div",{className:"text-sm text-gray-900",children:e.chequeNo})}),Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(y.jsx)("div",{className:"text-sm text-gray-900",children:e.bankName})}),"PENDING"===e.status?Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium cursor-pointer",children:Object(y.jsxs)("div",{className:"flex space-x-2",children:[Object(y.jsx)("button",{onClick:function(){return a(e.id)},className:"bg-green-50 p-2 text-xs text-green-600 hover:bg-green-100 rounded-md",children:"Approve"}),Object(y.jsx)("button",{onClick:function(){return n(e.id)},className:"bg-red-50 p-2 text-xs text-red-600 hover:bg-red-100 rounded-md",children:"Reject"})]})}):Object(y.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium cursor-pointer",children:Object(y.jsx)("button",{onClick:function(){return s(e.id)},className:"bg-indigo-50 p-2 text-xs text-indigo-600 hover:text-indigo-900 hover:bg-indigo-100  rounded-md",children:"Edit"})})]},e.id)}))})]})})})})})}var X=s(135);s(131);function Y(e){var t=e.title,s=e.content,n=e.successText,c=e.cancelText,r=e.successHandle,o=e.cancelHandle,i=e.openModal,l=e.handleChange,d=e.formSubmitHandle,m=e.formData,x=(e.setDate,Object(a.useRef)(null));return Object(y.jsx)(f.a.Root,{show:i,as:a.Fragment,children:Object(y.jsx)(X.a,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto",initialFocus:x,onClose:function(e){return!i},children:Object(y.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(y.jsx)(f.a.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(y.jsx)(X.a.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),Object(y.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),Object(y.jsx)(f.a.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:Object(y.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:Object(y.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:Object(y.jsx)("div",{className:"sm:flex sm:items-start",children:Object(y.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[Object(y.jsx)(X.a.Title,{as:"h3",className:"text-xl leading-6 font-medium text-gray-900",children:t}),Object(y.jsx)("div",{className:"mt-2",children:Object(y.jsx)("p",{className:"text-sm text-gray-500",children:s})}),Object(y.jsxs)("form",{onSubmit:d,action:"#",method:"POST",children:[Object(y.jsx)("div",{className:"overflow-hidden sm:rounded-md",children:Object(y.jsx)("div",{className:"bg-white pt-5",children:Object(y.jsxs)("div",{className:"grid grid-cols-6 gap-6",children:[Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-4",children:[Object(y.jsx)("label",{htmlFor:"first-name",className:"block text-sm font-medium text-gray-700",children:"Donor Name"}),Object(y.jsx)("input",{type:"text",name:"title",id:"title",disabled:!0,onChange:l,value:m.donor.name,className:"py-2 px-3 mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border border-gray-300 rounded-md"})]}),Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-4",children:[Object(y.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),Object(y.jsxs)("select",{id:"status",name:"status",autoComplete:"status",onChange:l,value:m.status,className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[Object(y.jsx)("option",{children:"PENDING"}),Object(y.jsx)("option",{children:"COMPLETED"}),Object(y.jsx)("option",{children:"REJECTED"}),Object(y.jsx)("option",{children:"APPROVED"})]})]}),Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-4",children:[Object(y.jsx)("label",{htmlFor:"payment-type",className:"block text-sm font-medium text-gray-700",children:"Payment Type"}),Object(y.jsxs)("select",{id:"paymentType",name:"paymentType",onChange:l,value:m.paymentType||" ",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[Object(y.jsx)("option",{children:void 0}),Object(y.jsx)("option",{children:"CHEQUE"}),Object(y.jsx)("option",{children:"ONLINE_TRANSFER"})]})]}),Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-4",children:[Object(y.jsx)("label",{htmlFor:"quotation-no",className:"block text-sm font-medium text-gray-700",children:"Cheque No"}),Object(y.jsx)("input",{type:"text",name:"chequeNo",id:"chequeNo",onChange:l,value:m.chequeNo||" ",className:"py-2 px-3 mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border border-gray-300 rounded-md"})]}),Object(y.jsxs)("div",{className:"col-span-6 sm:col-span-4",children:[Object(y.jsx)("label",{htmlFor:"bank-name",className:"block text-sm font-medium text-gray-700",children:"Bank Name"}),Object(y.jsxs)("select",{id:"bankName",name:"bankName",onChange:l,value:m.bankName||" ",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[Object(y.jsx)("option",{children:void 0}),Object(y.jsx)("option",{children:"HLB"}),Object(y.jsx)("option",{children:"CIMB"}),Object(y.jsx)("option",{children:"MBB"}),Object(y.jsx)("option",{children:"RHB"})]})]})]})})}),Object(y.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse mt-5 pt-5",children:[Object(y.jsx)("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:r,children:n}),Object(y.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:o,ref:x,children:c})]})]})]})})})})})]})})})}function $(){var e=Object(a.useState)([]),t=Object(p.a)(e,2),s=t[0],n=t[1],c=function(){var e=Object(u.a)(x.a.mark((function e(){var t,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/transaction/admin/get");case 3:t=e.sent,s=t.data,n(s.allTransactions),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){c()}),[]);var r=function(){var e=Object(u.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Modal opened"),k(!0),a=s.find((function(e){return e.id===t})),O(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(u.a)(x.a.mark((function e(t){var a,n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Transaction approved: ",t),a=s.find((function(e){return e.id===t})),e.prev=2,e.next=5,d.a.post("/transaction/admin/update",{id:a.id,status:"APPROVED"});case 5:n=e.sent,r=n.data,console.log(r),c(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(u.a)(x.a.mark((function e(t){var a,n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Transaction rejected: ",t),a=s.find((function(e){return e.id===t})),e.prev=2,e.next=5,d.a.post("/transaction/admin/update",{id:a.id,status:"REJECTED"});case 5:n=e.sent,r=n.data,console.log(r),c(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(u.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/transaction/admin/update",f);case 3:t=e.sent,t.data,c(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:k(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(u.a)(x.a.mark((function e(t){var s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,d.a.post("/transaction/admin/update",{formData:f});case 4:s=e.sent,s.data,c(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),h=Object(a.useState)({amount:void 0,bankName:void 0,chequeDate:void 0,chequeNo:void 0,donor:{name:void 0},id:void 0,paymentType:void 0}),g=Object(p.a)(h,2),f=g[0],O=g[1],N=Object(a.useState)(!1),v=Object(p.a)(N,2),w=v[0],k=v[1];return Object(y.jsxs)(G,{children:[Object(y.jsx)(U,{transactionList:s,openEditModal:r,transactionApproved:o,transactionRejected:i}),Object(y.jsx)(Y,{title:"Edit",content:"Edit Data",successText:"Submit",cancelText:"Cancel",successHandle:l,cancelHandle:function(){k(!1)},openModal:w,handleChange:function(e){O(Object(j.a)(Object(j.a)({},f),{},Object(b.a)({},e.target.name,e.target.value)))},formSubmitHandle:m,formData:f,setDate:function(e){O(Object(j.a)(Object(j.a)({},f),{},{quotationDate:e}))}})]})}var Q=function(){return d.a.defaults.baseURL="/api",Object(y.jsx)("div",{children:Object(y.jsx)("header",{children:Object(y.jsx)(o.a,{children:Object(y.jsx)("div",{children:Object(y.jsxs)(i.c,{children:[Object(y.jsx)(i.a,{exact:!0,path:"/login",children:Object(y.jsx)(z,{})}),Object(y.jsx)(i.a,{exact:!0,path:"/agent/donor",children:Object(y.jsx)(F,{})}),Object(y.jsx)(i.a,{exact:!0,path:"/agent/add-donor",children:Object(y.jsx)(T,{})}),Object(y.jsx)(i.a,{exact:!0,path:"/agent/transaction",children:Object(y.jsx)(P,{})}),Object(y.jsx)(i.a,{exact:!0,path:"/agent/add-transaction/:donorId",children:Object(y.jsx)(R,{})}),Object(y.jsx)(i.a,{exact:!0,path:"/admin/agent",children:Object(y.jsx)(W,{})}),Object(y.jsx)(i.a,{exact:!0,path:"/admin/transaction",children:Object(y.jsx)($,{})}),Object(y.jsx)(i.a,{path:"/",children:Object(y.jsx)(F,{})})]})})})})})};r.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(Q,{})}),document.getElementById("root"))},96:function(e,t,s){}},[[132,1,2]]]);
//# sourceMappingURL=main.cc1f0f13.chunk.js.map